CREATE TABLE tipopgto( tpg_id serial NOT NULL,  tpg_nome character varying(15),  CONSTRAINT tipopgto_pkey PRIMARY KEY (tpg_id);
CREATE TABLE unidade(  uni_id serial NOT NULL,  uni_nome character varying(15) NOT NULL,  CONSTRAINT uni_id PRIMARY KEY (uni_id));
CREATE TABLE categoria(  cat_id serial NOT NULL,  cat_nome character varying(15) NOT NULL,  CONSTRAINT cat_id PRIMARY KEY (cat_id));
CREATE TABLE garcon(  gar_id serial NOT NULL,  gar_nome character varying(40) NOT NULL,  gar_endereco character varying(50),  gar_cidade character varying(20),  gar_uf character varying(2),  gar_fone character varying(15),  gar_foto bytea,  gar_cep character varying(11),  gar_cpf character varying(11), CONSTRAINT gar_id PRIMARY KEY (gar_id))WITH (  OIDS=FALSE);ALTER TABLE garcon  OWNER TO postgres;
CREATE TABLE produto(  prod_id serial NOT NULL,  cat_id serial NOT NULL,  uni_id serial NOT NULL,  prod_nome character varying(30) NOT NULL,  prod_preco numeric(8,2) NOT NULL,  prod_descr character varying(100),  CONSTRAINT prod_id PRIMARY KEY (prod_id),  CONSTRAINT cat_id FOREIGN KEY (cat_id)      REFERENCES categoria (cat_id) MATCH SIMPLE      ON UPDATE NO ACTION ON DELETE NO ACTION,  CONSTRAINT uni_id FOREIGN KEY (uni_id) REFERENCES unidade (uni_id);
CREATE TABLE comanda(  com_id serial NOT NULL,  gar_id serial NOT NULL,  com_numero numeric(15,0) NOT NULL,  com_nome character varying(40),  com_data timestamp without time zone,  com_desc character varying(255) NOT NULL,  com_valor numeric(8,2),  com_status character(1), CONSTRAINT com_id PRIMARY KEY (com_id),  CONSTRAINT gar_id FOREIGN KEY (gar_id)      REFERENCES garcon (gar_id);
CREATE TABLE item(  it_quantidade integer NOT NULL,  com_id serial NOT NULL,  prod_id serial NOT NULL,  it_preco numeric(8,2),  CONSTRAINT item_pkey PRIMARY KEY (com_id, prod_id),  CONSTRAINT com_id FOREIGN KEY (com_id)      REFERENCES comanda (com_id) MATCH SIMPLE      ON UPDATE NO ACTION ON DELETE NO ACTION,  CONSTRAINT prod_id FOREIGN KEY (prod_id)      REFERENCES produto (prod_id);
CREATE TABLE pagamento(  pag_id integer NOT NULL DEFAULT nextval('pagamento_pag_cod_seq'::regclass),  com_id integer,  pag_valor numeric(8,2),  tpg_id integer,  CONSTRAINT pagamento_pkey PRIMARY KEY (pag_id),  CONSTRAINT pagamento_com_id_fkey FOREIGN KEY (com_id)      REFERENCES comanda (com_id) MATCH SIMPLE      ON UPDATE NO ACTION ON DELETE NO ACTION,  CONSTRAINT pagamento_tpg_id_fkey FOREIGN KEY (tpg_id) REFERENCES tipopgto (tpg_id);